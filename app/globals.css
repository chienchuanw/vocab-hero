@import 'tailwindcss';

@custom-variant dark (&:is(.dark *));

@theme inline {
  /* 基礎顏色 */
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* 字體 */
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);

  /* 卡片 */
  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  /* Popover */
  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  /* 主要顏色 */
  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  /* 次要顏色 */
  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  /* 柔和色調 */
  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  /* 強調色 */
  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  /* 警告色 */
  --color-destructive: var(--destructive);

  /* 邊框和輸入 */
  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  /* 圖表顏色 */
  --color-chart-1: var(--chart-1);
  --color-chart-2: var(--chart-2);
  --color-chart-3: var(--chart-3);
  --color-chart-4: var(--chart-4);
  --color-chart-5: var(--chart-5);

  /* Sidebar */
  --color-sidebar: var(--sidebar);
  --color-sidebar-foreground: var(--sidebar-foreground);
  --color-sidebar-primary: var(--sidebar-primary);
  --color-sidebar-primary-foreground: var(--sidebar-primary-foreground);
  --color-sidebar-accent: var(--sidebar-accent);
  --color-sidebar-accent-foreground: var(--sidebar-accent-foreground);
  --color-sidebar-border: var(--sidebar-border);
  --color-sidebar-ring: var(--sidebar-ring);

  /* 額外的 Duolingo 風格顏色 */
  --color-success: var(--success);
  --color-success-foreground: var(--success-foreground);
  --color-warning: var(--warning);
  --color-warning-foreground: var(--warning-foreground);
  --color-info: var(--info);
  --color-info-foreground: var(--info-foreground);

  /* 圓角 - Duolingo 風格的圓潤設計 */
  --radius-sm: calc(var(--radius) - 4px);
  --radius-md: calc(var(--radius) - 2px);
  --radius-lg: var(--radius);
  --radius-xl: calc(var(--radius) + 4px);
  --radius-2xl: calc(var(--radius) + 8px);
  --radius-3xl: calc(var(--radius) + 12px);
  --radius-4xl: calc(var(--radius) + 16px);
}

:root {
  /* Duolingo-inspired design tokens */
  --radius: 1rem; /* 更圓潤的圓角 */

  /* 主要背景色 - 淺灰藍色，類似 Duolingo 的背景 */
  --background: oklch(0.98 0.005 240);
  --foreground: oklch(0.25 0.01 240);

  /* 卡片 - 純白色，提供清晰對比 */
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.25 0.01 240);

  /* Popover */
  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.25 0.01 240);

  /* 主色調 - Duolingo 綠色 (#58CC02) */
  --primary: oklch(0.72 0.19 142);
  --primary-foreground: oklch(1 0 0);

  /* 次要色 - 淺綠色背景 */
  --secondary: oklch(0.95 0.05 142);
  --secondary-foreground: oklch(0.35 0.15 142);

  /* 柔和色調 */
  --muted: oklch(0.96 0.005 240);
  --muted-foreground: oklch(0.55 0.01 240);

  /* 強調色 - 亮藍色，用於次要動作 */
  --accent: oklch(0.88 0.12 240);
  --accent-foreground: oklch(0.3 0.12 240);

  /* 警告/錯誤色 - Duolingo 紅色 */
  --destructive: oklch(0.6 0.22 25);

  /* 邊框和輸入框 */
  --border: oklch(0.9 0.005 240);
  --input: oklch(0.95 0.005 240);
  --ring: oklch(0.72 0.19 142);

  /* 圖表色彩 - 活潑的色調 */
  --chart-1: oklch(0.72 0.19 142); /* 綠色 */
  --chart-2: oklch(0.65 0.2 240); /* 藍色 */
  --chart-3: oklch(0.7 0.18 60); /* 黃色 */
  --chart-4: oklch(0.65 0.2 320); /* 紫色 */
  --chart-5: oklch(0.65 0.2 25); /* 紅色 */

  /* Sidebar - 保持簡潔 */
  --sidebar: oklch(1 0 0);
  --sidebar-foreground: oklch(0.25 0.01 240);
  --sidebar-primary: oklch(0.72 0.19 142);
  --sidebar-primary-foreground: oklch(1 0 0);
  --sidebar-accent: oklch(0.95 0.05 142);
  --sidebar-accent-foreground: oklch(0.35 0.15 142);
  --sidebar-border: oklch(0.9 0.005 240);
  --sidebar-ring: oklch(0.72 0.19 142);

  /* 額外的 Duolingo 風格顏色 */
  --success: oklch(0.72 0.19 142);
  --success-foreground: oklch(1 0 0);
  --warning: oklch(0.75 0.15 85);
  --warning-foreground: oklch(0.3 0.1 85);
  --info: oklch(0.65 0.2 240);
  --info-foreground: oklch(1 0 0);
}

.dark {
  /* 深色模式 - 保持 Duolingo 風格但適應深色主題 */
  --background: oklch(0.15 0.01 240);
  --foreground: oklch(0.95 0.005 240);

  /* 卡片 - 稍亮的深色 */
  --card: oklch(0.2 0.01 240);
  --card-foreground: oklch(0.95 0.005 240);

  /* Popover */
  --popover: oklch(0.2 0.01 240);
  --popover-foreground: oklch(0.95 0.005 240);

  /* 主色調 - 稍微調亮的綠色 */
  --primary: oklch(0.75 0.19 142);
  --primary-foreground: oklch(0.15 0.01 240);

  /* 次要色 */
  --secondary: oklch(0.25 0.05 142);
  --secondary-foreground: oklch(0.85 0.05 142);

  /* 柔和色調 */
  --muted: oklch(0.25 0.01 240);
  --muted-foreground: oklch(0.65 0.01 240);

  /* 強調色 */
  --accent: oklch(0.3 0.12 240);
  --accent-foreground: oklch(0.9 0.05 240);

  /* 警告/錯誤色 */
  --destructive: oklch(0.65 0.22 25);

  /* 邊框和輸入框 */
  --border: oklch(0.3 0.01 240);
  --input: oklch(0.25 0.01 240);
  --ring: oklch(0.75 0.19 142);

  /* 圖表色彩 - 深色模式下稍微調亮 */
  --chart-1: oklch(0.75 0.19 142);
  --chart-2: oklch(0.7 0.2 240);
  --chart-3: oklch(0.75 0.18 60);
  --chart-4: oklch(0.7 0.2 320);
  --chart-5: oklch(0.7 0.2 25);

  /* Sidebar */
  --sidebar: oklch(0.2 0.01 240);
  --sidebar-foreground: oklch(0.95 0.005 240);
  --sidebar-primary: oklch(0.75 0.19 142);
  --sidebar-primary-foreground: oklch(0.15 0.01 240);
  --sidebar-accent: oklch(0.25 0.05 142);
  --sidebar-accent-foreground: oklch(0.85 0.05 142);
  --sidebar-border: oklch(0.3 0.01 240);
  --sidebar-ring: oklch(0.75 0.19 142);

  /* 額外顏色 */
  --success: oklch(0.75 0.19 142);
  --success-foreground: oklch(0.15 0.01 240);
  --warning: oklch(0.78 0.15 85);
  --warning-foreground: oklch(0.2 0.1 85);
  --info: oklch(0.7 0.2 240);
  --info-foreground: oklch(0.15 0.01 240);
}

@layer base {
  * {
    @apply border-border outline-ring/50;
  }

  body {
    @apply bg-background text-foreground;
    font-feature-settings:
      'rlig' 1,
      'calt' 1;
  }

  /* Duolingo 風格的平滑滾動 */
  html {
    scroll-behavior: smooth;
  }

  /* 改善選取文字的視覺效果 */
  ::selection {
    background-color: oklch(0.72 0.19 142 / 0.3);
    color: inherit;
  }
}

@layer components {
  /* Duolingo 風格的按鈕陰影效果 */
  .btn-shadow {
    box-shadow: 0 4px 0 0 oklch(0.6 0.19 142);
    transition: all 0.1s ease;
  }

  .btn-shadow:active {
    transform: translateY(2px);
    box-shadow: 0 2px 0 0 oklch(0.6 0.19 142);
  }

  /* 卡片陰影 - 柔和的陰影效果 */
  .card-shadow {
    box-shadow: 0 2px 8px oklch(0 0 0 / 0.08);
  }

  .card-shadow-hover {
    transition: all 0.2s ease;
  }

  .card-shadow-hover:hover {
    box-shadow: 0 4px 16px oklch(0 0 0 / 0.12);
    transform: translateY(-2px);
  }

  /* 進度條樣式 */
  .progress-bar {
    background: linear-gradient(90deg, oklch(0.72 0.19 142) 0%, oklch(0.75 0.19 142) 100%);
    border-radius: 9999px;
    transition: width 0.3s ease;
  }

  /* 成功狀態的動畫 */
  @keyframes success-bounce {
    0%,
    100% {
      transform: scale(1);
    }
    50% {
      transform: scale(1.1);
    }
  }

  .success-animation {
    animation: success-bounce 0.3s ease;
  }

  /* 錯誤狀態的搖晃動畫 */
  @keyframes error-shake {
    0%,
    100% {
      transform: translateX(0);
    }
    25% {
      transform: translateX(-10px);
    }
    75% {
      transform: translateX(10px);
    }
  }

  .error-animation {
    animation: error-shake 0.4s ease;
  }

  /* Flashcard 3D flip animation styles */
  .perspective-1000 {
    perspective: 1000px;
  }

  .transform-style-3d {
    transform-style: preserve-3d;
  }

  .backface-hidden {
    backface-visibility: hidden;
    -webkit-backface-visibility: hidden;
  }
}
